(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{781:function(e,r,t){e.exports=t.p+"assets/img/k8s_informer.5c11bbc3.png"},927:function(e,r,t){"use strict";t.r(r);var n=t(12),s=Object(n.a)({},(function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("blockquote",[n("p",[e._v("网上看了很多关于 informer 的文章以及流程图，感觉不全面，因此自己画了一张")])]),e._v(" "),n("p",[n("img",{attrs:{src:t(781),alt:"informer"}})]),e._v(" "),n("h2",{attrs:{id:"resync-机制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#resync-机制"}},[e._v("#")]),e._v(" Resync 机制")]),e._v(" "),n("p",[e._v("开启后会定时从本地 "),n("code",[e._v("cache.store")]),e._v(" 同步数据，会触发 "),n("code",[e._v("UpdateFunc")]),e._v("，所以如果开启 resync 最好检查每次 ResourceVersion 是否发送变更，避免做不必要的操作。")]),e._v(" "),n("p",[e._v("初始化 informerFactory 的时候传入的 resyncPeriod 会因为每个 informer 的 "),n("code",[e._v("AddEventHandlerWithResyncPeriod")]),e._v(" 操作而改变，如果一开始传入的是 10s 同步一次，但后面加入一个需要 2s 同步一次的 event，informer的同步周期会变成 2s")])])}),[],!1,null,null,null);r.default=s.exports}}]);